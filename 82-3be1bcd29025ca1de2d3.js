(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{794:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=a(8),r=function(t,e){return Object(n.b)({url:"/api/commment/get-comment/"+t,params:e})},o=function(t,e){return Object(n.b)({url:"/api/reply/get-reply/"+t,params:e})},i=function(t,e){return Object(n.c)({url:"/api/reply/create-reply/"+t,data:e})}},835:function(t,e,a){"use strict";a.r(e);a(24),a(13);var n=a(1),r=a.n(n),o=a(54),i=a(91),c=a(147),u=a(77),l=a(40),s=a(25),d=a(42),m=a(794),p=a(9),f=a(573),g=a(23),b=a(575);var S=function(t){var e,a;function n(e){var a;return(a=t.call(this,e)||this).unmount=!1,a._setState=function(t,e){a.unmount||a.setState((function(e){return Object.assign({},e,{},t)}),e)},a.getListComment=function(){var t=a.props,e=t.restaurantId,n=t.requestData,r=t.receiveData,o=a.props,i=o.pageSize,c=o.pageIndex,u=o.orderBy,l=o.sortBy,s={orderBy:u,pageNum:c,pageSize:i,sortBy:l};n(),Object(m.b)(e,s).promise.then((function(t){if(t.data&&t.data.code&&200===t.data.code&&t.data.value){var e=t.data.value&&t.data.value.list||[],n=t.data.value&&t.data.value.totalPages||0;a._setState({listComment:e,totalSize:n*i})}r()})).catch((function(){r()}))},a.formatTime=function(t){return t?Object(c.default)(new Date(t),p.g):""},a.generateColumns=function(){var t=a.props.intl.formatMessage;return[{dataField:"id",text:"ID",sort:!0,headerStyle:{width:"80px"}},{dataField:"createdBy",text:t({id:"IDS_LABEL_COMMENT_USER_CREATE"}),formatter:function(t){return t.name+" ("+t.username+")"},sort:!0},{dataField:"content",text:t({id:"IDS_LABEL_COMMENT_CONTENT"}),sort:!0},{dataField:"createdDate",text:t({id:"IDS_LABEL_COMMENT_CREATE_DATE"}),sort:!0,headerStyle:{width:"180px"},formatter:function(t,e){return a.formatTime(e.createdDate)}},{dataField:"tool",text:t({id:"IDS_DISH_LABEL_TOOLS"}),formatter:a.generateTools,headerStyle:{width:"110px"},style:{textAlign:"center"}}]},a.generateTools=function(t,e,n){return r.a.createElement("div",{className:"tool"},r.a.createElement("button",{type:"button",className:"btn btn-primary my-2 mx-2 rounded btn-sm btn-md",onClick:a.handleClickView(e,n)},r.a.createElement(l.k,null)))},a.handleClickView=function(t){return function(e){e&&(e.preventDefault(),e.stopPropagation()),Object(i.navigate)(g.a.COMMENT_DETAIL+"?id="+t.id)}},a.state={totalSize:0,listComment:[]},a}a=t,(e=n).prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a;var o=n.prototype;return o.componentDidMount=function(){this.getListComment()},o.componentWillUnmount=function(){this.unmount=!0,clearInterval(this.interval)},o.render=function(){var t=this.state,e=t.listComment,a=t.totalSize,n=this.props,o=n.pageSize,i=n.onSort,c=n.onPageChange,u=n.onSizePerPageChange;return r.a.createElement("div",{className:"page-wrapper comment-wrapper container-fluid"},r.a.createElement("div",{className:"d-sm-flex align-items-center header-wrapper"},r.a.createElement(d.a,{id:"IDS_LABEL_LIST_COMMENT",Tag:"h3",className:"mb-0 text-dark"})),r.a.createElement("div",{className:"comment-body-wrapper"},r.a.createElement("div",{className:"table-wrapper"},r.a.createElement(f.a,{totalSize:a,keyField:"id",data:e,columns:this.generateColumns(),onPageChange:c,onSizePerPageChange:u,pageSize:o,onSort:i}))))},n}(n.PureComponent),E={pageSize:p.h,pageIndex:1,orderBy:"desc",sortBy:"createdDate",functionGetData:"getListComment"};e.default=Object(u.injectIntl)(Object(o.b)((function(t){return{restaurantId:t.restaurant.restaurantId}}),(function(t){return{requestData:function(){return t(Object(s.b)())},receiveData:function(){return t(Object(s.a)())},toggleAlert:function(e){return t(Object(s.c)(e))}}}))(Object(b.a)(S,E)))}}]);